$.namespace("Mo.Frame"),Mo.Frame={default_detail_paddingTop:0,default_detail_paddingLeft:0,detail_paddingTop:this.default_detail_paddingTop,detail_paddingLeft:this.default_detail_paddingLeft,main_min_width:1256,main_padding_left:128,main_min_height:400,main_padding_bottom:68,main_top_height:98,fixLineHeight:2,init:function(){this.setSize(),this.initEvent()},initEvent:function(){var i=this;$(window).resize(function(){i.setSize()})},setSize:function(){var i=this.getWindowSize();i.w<this.main_min_width&&(i.w=this.main_min_width),i.h<this.main_min_height;var e=i.w-2*this.main_padding_left;i.h,$(".wrap-all").width(e),$(".wrap-all").height(i.h);var t=i.h-this.main_top_height-this.main_padding_bottom;$("#inner-main").height(t);var a=t-2*this.fixLineHeight;$("#main-content").height(a),$("#detail-content").css("top",this.detail_paddingTop+this.fixLineHeight),$("#detail-content").height(a-this.detail_paddingTop);var n=$("#main-content").width()-this.detail_paddingLeft;$("#detail-content").width(n)},getWindowSize:function(){var i=$(window).width(),e=$(window).height();return{w:i,h:e}},getSideW:function(){return $("#aside").outerWidth()}},Mo.Frame.controller={mainFrameTag:"main-frame",detailFrameTag:"detail-frame",showHideTime:200,init:function(){this.initEvent()},initEvent:function(){var i=this;$("#e-bn-fold").click(function(){i.hideDetail()})},initUrlFilter:function(){this.mainUrlFilter(),this.detailUrlFilter()},mainUrlFilter:function(){var i=this;$(document).on("click","a[target='"+this.mainFrameTag+"']",function(){var e=$(this).attr("href");return e&&i.setMainFrame(e),!1})},detailUrlFilter:function(){var i=this;$(document).on("click","a[target='"+this.detailFrameTag+"']",function(){var e=$(this).attr("href");return e&&i.setDetailFrame(e,Mo.Frame.detail_paddingTop,Mo.Frame.detail_paddingLeft),!1})},fiterFrameURL:function(i){return"#"==i?!1:i},setMainFrame:function(i){i=this.fiterFrameURL(i),i&&($("#main-frame")[0].src=i),this.hideDetail()},setDetailFrame:function(i,e,t){i=this.fiterFrameURL(i),i&&($("#detail-frame")[0].src=i,this.showDetail(e,t))},getMainFrame:function(){return $("#main-frame")[0]},getDetailFrame:function(){return $("#detail-frame")[0]},callMainFrameFn:function(i){var e=this.getMainFrame().contentWindow;"function"==typeof e[i]&&e[i]()},callDetailFrameFn:function(i){var e=this.getDetailFrame().contentWindow;"function"==typeof e[i]&&e[i]()},showDetail:function(i,e){"undefined"==typeof i&&(i=Mo.Frame.detail_paddingTop),"undefined"==typeof e&&(e=Mo.Frame.detail_paddingLeft),(Mo.Frame.detail_paddingTop!=i||Mo.Frame.detail_paddingLeft!=e)&&this.setDetailSize(i,e),$("#detail-content").is(":visible")||$("#detail-content").stop(!0,!0).show().css("left",$("#inner-main").width()).animate({left:e},this.showHideTime)},setDetailSize:function(i,e){Mo.Frame.detail_paddingTop="undefined"==typeof i?Mo.Frame.default_detail_paddingTop:i,Mo.Frame.detail_paddingLeft="undefined"==typeof e?Mo.Frame.default_detail_paddingLeft:e,Mo.Frame.setSize()},hideDetail:function(){$("#detail-content").stop(!0,!0).animate({left:$("#inner-main").width()},this.showHideTime,function(){$(this).hide(),$("#detail-frame")[0].src="about:blank"})}},Mo.Frame.nav={init:function(){this.initEvent()},initEvent:function(){$(document).bind("click",function(i){var e=$(i.target);0==e.closest(".setting").length&&0==e.closest(".setting-list").length&&$(".setting-list","#header").hide()}),$(".setting","#header").bind("click",function(){$(".setting-list","#header").show()})}},$.namespace("Mo.Frame.aside"),Mo.Frame.aside={init:function(){this.initEvent()},initEvent:function(){var i=this;$(".aside-menu").on("click",".menu h3",function(){var i=$(this).parent(".menu");if(!i.hasClass(".selected")){$(".aside-menu .menu.selected").removeClass("selected"),i.addClass("selected");var e=$("li:first",i);e.click(),e.find("a").click()}}),$(".aside-menu").on("click",".menu li",function(){i.selectedLi($(this))})},selectedLi:function(i){i.hasClass(".selected")||($(".aside-menu li.selected").removeClass("selected"),i.addClass("selected"))}},$.namespace("Mo.Home"),Mo.Home={init:function(){Mo.Frame.init(),Mo.Frame.controller.init(),Mo.Frame.controller.initUrlFilter(),Mo.Frame.nav.init(),Mo.Frame.aside.init(),Mo.Home.asideMenu.init(),$("#modifyUser").bind("click",function(){Mo.Dialog.showSetting()}),$("#modifyPassword").bind("click",function(){Mo.Dialog.showModifyPassword()}),$("#about").bind("click",function(){Mo.Dialog.showAbout()}),$(".logout","#header").bind("click",function(){Mo.Dialog.showLogout()})}},Mo.Home.asideMenu={init:function(){this.initMenu(),this.initEvent()},initMenu:function(){for(var i=Mo.Menu.allMenus,e="",t=this.getRootMenus(i),a=t.length,n=0;a>n;n++){var o=this.getSubMenus(i,t[n].id),r=o.length;if(e+='<div class="menu">',e+="<h3><span>"+t[n].name+"</span><s>"+r+"</s></h3>",e+="<ul>",r>0)for(var d=0;r>d;d++)e+='<li><a href="'+Mo.Base.getAppUrl()+o[d].url+'" target="main-frame">'+o[d].name+"</a></li>";e+="</ul>",e+="</div>"}$("#divAsideMenu").html(e)},initEvent:function(){},getRootMenus:function(i){return this.getSubMenus(i,Mo.Menu.rootMenuId)},getSubMenus:function(i,e){var t=[],a=i.length;if(a>0)for(var n=0;a>n;n++)i[n].parentId==e&&(t[t.length]=i[n]);return t},loadMainFrame:function(i){Mo.Frame.controller.hideDetail(),Mo.Frame.controller.setMainFrame(Mo.Config.appUrl+i)}};